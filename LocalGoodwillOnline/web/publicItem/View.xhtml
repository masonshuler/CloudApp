<?xml version="1.0" encoding="UTF-8" ?>
<!--
Created by Jordan Kuhn, Scott McGhee, Shuvo Rahman, Mason Shuler, Matt Tuckman
Copyright Â© 2018 Jordan Kuhn, Scott McGhee, Shuvo Rahman, Mason Shuler, Matt Tuckman. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:composition>

        <p:dialog id="ItemViewDlg" widgetVar="ItemViewDialog" modal="true" 
                  resizable="false" appendTo="@(body)" header="#{bundle.ViewItemTitle}">
            <h:form id="ItemViewForm">
                <div align="center">

                    <c:if test="#{itemController.selected != null}">
                        <p:graphicImage value="/#{itemController.getPicture(itemController.selected)}" width="250" height="250"/>
                    </c:if>

                    <br /><br />

                    <h:panelGroup id="display">
                        <p:panelGrid columns="2" columnClasses="accountColumn1, accountColumn2View" 
                                     rendered="#{itemController.selected != null}" >

                            <h:outputText value="#{bundle.ViewItemLabel_title}"/>
                            <h:outputText value="#{itemController.selected.title}" 
                                          title="#{bundle.ViewItemTitle_title}" />

                            <h:outputText value="#{bundle.ViewItemLabel_description}"/>
                            <h:outputText value="#{itemController.selected.description}" 
                                          title="#{bundle.ViewItemTitle_description}" />

                            <h:outputText value="Size: "/>
                            <h:outputText value="#{itemController.selected.size}" 
                                          title="Size: "/>

                            <h:outputText value="#{bundle.ViewItemLabel_price}"/>
                            <h:outputText value="#{itemController.selected.priceString()}" 
                                          title="#{bundle.ViewItemTitle_price}"/>

                            <h:outputText value="#{bundle.ViewItemLabel_rating}"/>
                            <h:outputText value="#{itemController.selected.rating}" 
                                          title="#{bundle.ViewItemTitle_rating}"/>

                            <h:outputText value="#{bundle.ViewItemLabel_datePublished}"/>
                            <h:outputText value="#{itemController.selected.datePublished}" 
                                          title="#{bundle.ViewItemTitle_datePublished}">
                                <f:convertDateTime pattern="MM/dd/yyyy" />
                            </h:outputText>

                            <h:outputText value="#{bundle.ViewItemLabel_category}"/>
                            <h:outputText value="#{itemController.selected.category}" 
                                          title="#{bundle.ViewItemTitle_category}"/>
                            
                            <h:outputText value="Reserved: "/>
                            <h:outputText value="#{itemController.selected.reservedString}" 
                                          title="Reserved"/>
                        </p:panelGrid>
                    </h:panelGroup>
                    <br />
                    <h:panelGroup>
                        <h:panelGrid columns="2">
                            <iframe src="https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fvenus.cs.vt.edu%2FLocalGoodwillOnline%2FList.xhtml&amp;layout=button_count&amp;size=small&amp;mobile_iframe=true&amp;width=69&amp;height=20&amp;appId" 
                                    width="69" height="20" style="border:none;overflow:hidden" scrolling="no" 
                                    frameborder="0" allowTransparency="true" allow="encrypted-media">
                            </iframe>
                            <iframe
                                src="https://platform.twitter.com/widgets/tweet_button.html?url=https%3A%2F%2Fvenus.cs.vt.edu/LocalGoodwillOnline/List.xhtml&amp;via=LocalGoodwillOnline&amp;related=twitterapi%2Ctwitter&amp;text=Checkout the ${itemController.selected.title} on &amp;hashtags=steal"
                                width="69"
                                height="20"
                                title="Twitter Tweet Button"
                                style="border: 0; overflow: hidden;" scrolling="no" >
                            </iframe>
                        </h:panelGrid>
                    </h:panelGroup>
                    <br />
                    <br />
                    <h:panelGroup>
                        <!-- CLOSE button -->
                        <p:commandButton value="#{bundle.Close}" onclick="PF('ItemViewDialog').hide()" 
                                         styleClass="commandButton" icon="ui-icon-close"/>
                    </h:panelGroup>
                </div>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
